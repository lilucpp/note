# 知识点

## 1. broker vs agent vs proxy

**经纪人（Broker）**：是为促成他人交易，充当订约居间人，为委托方提供订约的信息、机会和条件的主体。Broker是**一个独立主体**，但没有自主决策能力，只负责订约过程。<br>
<br>
**代理人（Agent）**：是行使被代理者的权力，完成相关的使命或者任务主体。<br>
<br>
Agent是**一个独立主体**，负责完成任务但不负责执行任务，Agent具有一定的自主决策能力，如对服务请求的选择。**代理（Proxy）**是指**行为代理，不是一个主体**。Proxy是完全的传递者，如请求和响应的转发，操作控制的传递。<br>
<br>
例子：  
Brokers: 消息中间件 <br>
Agent: Kubelet <br>
Proxy: Kube-Porxy <br>  

来源
1. [soosmart.com](https://www.soosmart.com/topic/1033.html)


## 2. 软件设计的环节

需求分析、设计、编码、测试。<br>

- 需求分析
    最初的需求一般来自产品经理，这些需求大多比较模糊，软件工程师需要和产品经理就每个细节进行充分沟通，明确最终要交付的是什么样的产品，同时考虑到每个环节可能遇到的问题。
- 设计
    设计是一个非常重要的环节。
    - 技术调研
    - 原型设计（一般是产品出原型图）
    - 架构设计
- 编码<br>
    编码规范：公司编码规范、行业规范（代码大全、代码整洁之道、重构）。 <br>
    设计规范： api(接口规范 )、设计模式、架构规范等。

- 测试<br>
    有单元测试、性能测试、集成测试等。

### 架构设计
    架构模式帮助你定义应⽤用程序的基本特征和⾏行为。
#### 分层架构
分层架构模式⾥的组件被分成几个平行的层次，每一层都代表了应用的一个功能。尽管分层架构没有规定⾃自⾝身要分成几层几种，大多数的结构都分成四个层次:展示层，业务层，持久层，和数
据库层。有时候，业务层和持久层会合并成单独的一个业务层，尤其是持久层的逻辑绑定在业务层
的组件当中。因此，有一些小的应用可能只有3层，一些有着更复杂的业务的大应用可能有5层或者更多的分层。<br>

每一层都是封闭的。这是分层架构中非常重要的特点。这意味request必须一层一层的传递。<br>
层隔离就是说架构中的某一层的改变不会影响到其他层:这些变化的影响范围限于当前层次。如果展示层能够直接访问持久层了，假如持久层中的SQL变化了，这对业务层和展示层都有一定的影响。这只会让应⽤用变得紧耦合，组件之间互相依赖。这种架构会非常的难以维护。

#### 事件驱动架构
事件驱动架构模式包含了两种主要的拓扑结构：中介(mediator)拓扑结构和代理(broker)拓扑结构。

### 微服务
微内核架构主要需要考虑两个方⾯面: 核心系统和插件模块。应⽤用逻辑被划分为独立的插件模块和核心系统，这样就提供良好的可扩展性、灵活性，应用的新特性和自定义处理逻辑也会被隔离。

来源<br>
1. [bak/软件架构入门.pdf](https://www.ruanyifeng.com/blog/2016/09/software-architecture.html)
2. [架构设计Structure](https://jishuin.proginn.com/p/763bfbd5f8ca)
3. [bak/Software-Architecture-Patterns](https://get.oreilly.com/rs/107-FMS-070/images/Software-Architecture-Patterns.pdf)
4. bak/软件架构模式.pdf